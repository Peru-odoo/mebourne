<odoo>
  <data>
    <record id="view_order_form_inherit" model="ir.ui.view">
      <field name="name">sale.order.form.inherit</field>
      <field name="model">sale.order</field>
      <field name="inherit_id" ref="sale.view_order_form"/>
      <field name="arch" type="xml">
        <xpath expr="//header//field[@name='state']" position="replace">
            <field name="state" widget="statusbar" statusbar_visible="draft,sent,confirm,sale"/>
        </xpath>

        <xpath expr="//button[@name='action_quotation_send']" position="after">
            <button name="action_sale_confirm" string="Sale Confirm" class="btn-primary" type="object"
                    attrs="{'invisible': [('state', 'not in', ['draft'])]}"/>
        </xpath>
        <xpath expr="//button[@name='action_confirm'][2]" position="replace">
             <button name="action_confirm" string="Confirm" type="object"
                     attrs="{'invisible': [('state', 'not in', ['confirm'])]}"/>
        </xpath>
        <xpath expr="//field[@name='validity_date']" position="after">
            <field name="delivery_date" attrs="{'readonly': [('state', 'in', 'sale')]}"/>
        </xpath>
        <xpath expr="//field[@name='partner_invoice_id']" position="replace">
           <field name="partner_invoice_id"  context="{'default_type':'invoice'}" options="{&quot;always_reload&quot;: True}"/>
        </xpath>
        <xpath expr="//field[@name='partner_shipping_id']" position="replace">
           <field name="partner_shipping_id"  context="{'default_type':'delivery'}" options="{&quot;always_reload&quot;: True}"/>
        </xpath>
        <xpath expr="//field[@name='payment_term_id']" position="after">
            <field name="contact_id" invisible="1"/>
            <field name="contact_phone" invisible="1"/>
            <field name="accept_person" invisible="1"/>
            <field name="is_sample_created" invisible="1"/>
            <field name="is_damage_created" invisible="1"/>
        </xpath>

        <xpath expr="//button[@name='action_quotation_send']" position="after">
            <button name="create_sample"
                    string="Create Sample"
                    type="object"
                    attrs="{'invisible' : ['|', ('is_sample_created', '=', True),('state', '!=', 'sale')]}"/>
            <button name="create_damage"
                    string="Create Damage"
                    type="object"
                    attrs="{'invisible' : [('state', '!=', 'sale')]}"/>
        </xpath>

        <xpath expr="//field[@name='user_id']" position="replace">
        </xpath>
        <xpath expr="//field[@name='team_id']" position="replace">
        </xpath>
        <xpath expr="//field[@name='partner_shipping_id']" position="after">
            <field name="team_id" widget="selection"/>
            <field name="user_id" string="Sale By"/>
            <field name="sale_by" options='{"no_open": True,"no_create":True}'/>
        </xpath>
        <xpath expr="//page[@name='other_information']/group[1]/group[2]/field[@name='analytic_account_id']" position="attributes">
          <attribute name="invisible">1</attribute>
        </xpath>

      </field>
    </record>
    <record id="view_sales_order_filter_inherit" model="ir.ui.view">
        <field name="name">sale.order.search.inherit</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_sales_order_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//search/field[@name='team_id']" position="after">
              <field name="sale_by"/>
            </xpath>
            <xpath expr="//search/group" position="inside">
              <filter string="Sale By" name="Sale By" context="{'group_by':'sale_by'}"/>
            </xpath>
        </field>
    </record>
    <record id="view_order_tree_state" model="ir.ui.view">
        <field name="name">sale.order.tree.state</field>
        <field name="model">sale.order</field>
        <field name="inherit_id" ref="sale.view_order_tree"/>
        <field name="arch" type="xml">
            <field name="state" position="replace">
            </field>
            <field name="amount_total" position="after">
                <field name="state" optional="show"/>
            </field>
        </field>
    </record>
    <menuitem
            id="invoice_sale_menu"
            name="Invoice"
            action="action_move_out_invoice_type_exten"
            parent="sale.menu_sale_invoicing"
             >
             <!-- action="account.action_move_out_invoice_type" -->
    </menuitem>
      <menuitem id="menu_invoices_analysis_report"
                name="Invoice Analysis Report"
                parent="sale.menu_sale_report"
                action="account.action_account_invoice_report_all"
                sequence="10"/>
  </data>
</odoo>